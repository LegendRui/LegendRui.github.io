---
title: Linux学习笔记之vim编辑器
date: 2019-12-21 18:33:26
tags:
    - linux
    - vim
categories: linux
---

vim是linux下非常强大的编译器，一旦熟练使用便爱不释手。
这里记录我学习过程中常用的一些linux指令。

vim有三种工作模式，分别是 **命令模式**、 **末行模式**和文本模式。
这里主要记录命令模式和末行模式的一些快捷键。


#### 1 移动光标
- 左移：`h`
- 下移：`j`
- 上移：`k`
- 右移：`l`
- 跳转指定行： 命令模式下`nG`(n为行号) 、 末行模式下`:N`
- 跳转行首： `gg`
- 跳转行尾：`G`

#### 2 快速插入
* 插入光标前一个字符：`i` 
* 插入行首：`I` 
* 插入光标后一个字符：`a`
* 插入行末：`A`
* 向下新开一行，插入行首：`o`
* 向上新开一行，插入行首：`O`
* 删除光标字符后开始插入：`s`
* 删除当前行后开始插入：`S`

#### 3 删除
* 删除光标字符：`x`
* 删除光标至单词尾：`dw`
* 删除光标至行尾：`D/d$`
* 删除光标至行首：`d0`
* 删除光标所在行：`dd`
* 删除光标所在行及接下来的n-1行：`ndd`
* 光标字符替换为指定字符c: 按`rc`
* 删除指定区域：按V进入“视图模式”，通过hjkl选中区域，按d删除

#### 4 复制粘贴
* 复制：`yy`
* 粘贴：p(向前)/P（向后）


#### 5 查找和替换
* 查找
    - 查找文档是否存在某个内容：命令模式下按/，输入查找内容然后回车，按n检索下一个
    - 查找文档的某个单词在其他地方出现的位置：将单词至于任意一个字符上按`*`（向后查找）或者`#`（向前查找）
* 替换
    - 单行替换：末行模式下， 输入`s /src_str/dst_str`
    - 通篇替换：末行模式下， 输入`%s /src_str/dst_str/g`
    - 指定行替换：末行模式下，输入`起始行号,结束行号s /src_str/dst_str/g`


#### 6 其他功能
* 撤销：`u`
* 反撤销：`ctrl+r`
* 跳转至定括号：`%`
* 自动格式化程序：命令模式下`gg=G`
* 横分屏：输入`:sp`后回车（分屏之间切换ctrl+ww）
* 竖分屏：输入`:vsp`后回车
* 查看某个函数的帮助文档（man手册）：光标移到函数的任意一个字符上按`3K`
* 查看宏定义：将光标置于待查看宏上，输入`[d`查看宏定义
* 在末行模式执行shell命令，`:![cmd]`